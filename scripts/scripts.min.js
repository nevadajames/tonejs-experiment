!function e(t,n,o){function r(c,i){if(!n[c]){if(!t[c]){var u="function"==typeof require&&require;if(!i&&u)return u(c,!0);if(a)return a(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[c]={exports:{}};t[c][0].call(d.exports,function(e){var n=t[c][1][e];return r(n||e)},d,d.exports,e,t,n,o)}return n[c].exports}for(var a="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,t,n){$(document).ready(function(){var e=new Tone.Analyser("fft",128).toMaster(),t=new Tone.Distortion(.7).connect(e),n=new Tone.PingPongDelay({delayTime:"16n",feedback:0,wet:0}).connect(t);StartAudioContext(Tone.context).then(function(){function o(){requestAnimationFrame(o);var t=new Uint8Array(e.getValue());f.selectAll("rect").data(t).attr("y",function(e){return y-e}).attr("height",function(e){return e}).attr("fill",function(e){return"rgb(0, "+e+",  0)"})}function r(e){function t(){var e=Math.round,t=Math.random;return"rgba(255,"+e(255*t())+",0,"+t().toFixed(1)+")"}var n=t(),o=t(),r=t();e.effect("highlight",{color:n},500),e.css("border","2px solid "+r),e.css("color",o)}var a=$("#screen-text");setTimeout(function(){a.html(" Context Initialized<span id='blinker'>...</span>")},2500),document.querySelector("#distortion").addEventListener("input",function(e){t.distortion=parseInt(e.target.value)/10,a.html("Distortion: "+t.distortion)}),document.querySelector("#portamento").addEventListener("input",function(e){c.portamento=parseInt(e.target.value),a.html("Portamento : "+c.portamento)}),document.querySelector("#modulationIndex").addEventListener("input",function(e){c.modulationIndex.value=parseInt(e.target.value),a.html("Modulation Index: "+c.modulationIndex.value)}),document.querySelector("#feedback").addEventListener("input",function(e){n.feedback.value=parseInt(e.target.value)/10,a.html("Feedback: "+n.feedback.value.toFixed(2))}),document.querySelector("#wet").addEventListener("input",function(e){n.wet.value=parseInt(e.target.value)/10,a.html("Delay Wet: "+n.wet.value.toFixed(2))}),document.querySelector("#delay-time").addEventListener("input",function(e){n.delayTime.value=parseInt(e.target.value)/100,a.html("Delay Time: "+n.delayTime.value.toFixed(2))});var c=new Tone.FMSynth({modulationIndex:30}).connect(n);$("#oscillator-type input[name='set-1']").click(function(){var e=$("#oscillator-type input[type='radio']:checked").val();c.oscillator.type=e,a.html("oscillator "+e)}),$("#mod-oscillator-type input[type='radio']").click(function(){var e=$("#mod-oscillator-type input[type='radio']:checked").val();c.harmonicity.value=parseFloat(e),a.html("harmonicity "+e)});new Tone.MonoSynth({volume:-10,envelope:{attack:.1,decay:.3,release:2},filterEnvelope:{attack:.001,decay:.01,sustain:.5,baseFrequency:200,octaves:2.6}}).connect(e);var i=(new Tone.PluckSynth).connect(e),u=new Tone.MembraneSynth({envelope:{sustain:0,attack:.02,decay:.8},octaves:10}).connect(e),l=new Tone.NoiseSynth({volume:-5,envelope:{attack:.001,decay:.2,sustain:0},filterEnvelope:{attack:.001,decay:.1,sustain:0}}).connect(e),d=new Tone.MembraneSynth({pitchDecay:.008,octaves:2,envelope:{attack:6e-4,decay:.5,sustain:0}}).connect(e),s=new Tone.MetalSynth({harmonicity:12,resonance:800,modulationIndex:20,envelope:{decay:.4},volume:-15}).connect(e),y="250",m=new Uint8Array(e.getValue()),f=function(e,t,n){return d3.select(e).append("svg").attr("height",t).attr("width",n)}("#graph",y,"600");f.selectAll("rect").data(m).enter().append("rect").attr("x",function(e,t){return t*("600"/m.length)}).attr("width","600"/m.length-"1"),[{id:$("#drum1"),src:"./sounds/electricDrum1.mp3"},{id:$("#drum2"),src:"./sounds/electricDrum2.mp3"},{id:$("#drum3"),src:"./sounds/electricDrum3.mp3"},{id:$("#drum4"),src:"./sounds/electricDrum4.mp3"}].forEach(function(t){t.id.click(function(){var n=new Tone.Player(t.src).connect(e);n.loop=!1,n.autostart=!0,o(),r($(this))})}),$("#kick").on("click touchstart",function(){r($("#kick")),u.triggerAttackRelease("A2","4n"),o()}),$(document).keydown(function(){67==event.keyCode&&(r($("#kick")),u.triggerAttackRelease("A2","4n"),o())}),$("#snare").on("click touchstart",function(){r($("#snare")),l.triggerAttackRelease("8n"),o()}),$(document).keydown(function(){86==event.keyCode&&(r($("#snare")),l.triggerAttackRelease("8n"),o())}),$("#conga").on("click touchstart",function(){r($("#conga")),d.triggerAttackRelease("G2","8n"),o()}),$(document).keydown(function(){66==event.keyCode&&(r($("#conga")),d.triggerAttackRelease("G2","8n"),o())}),$("#bell").on("click touchstart",function(){s.triggerAttackRelease("8n"),r($("#bell")),o()}),$(document).keydown(function(){78==event.keyCode&&(r($("#bell")),s.triggerAttackRelease("8n"),o())}),$("#pluck").on("click touchstart",function(){i.triggerAttackRelease("C2","8n"),r($("#pluck")),o()}),$(document).keydown(function(){88==event.keyCode&&(r($("#pluck")),i.triggerAttackRelease("C2","8n"),o())}),document.querySelectorAll(".pitch").forEach(function(e){e.addEventListener("click touchstart",function(t){c.triggerAttackRelease(t.target.textContent,"8n"),o(),r($(e))})});var h={65:$("#synthC"),83:$("#synthD"),68:$("#synthE"),70:$("#synthF"),74:$("#synthG"),75:$("#synthA"),76:$("#synthB"),186:$("#synthHighC")};$(document).keydown(function(e){var t=e.which,n=h[t];c.triggerAttackRelease(n.text(),"4n"),r(n),o()})})})},{}]},{},[1]);
